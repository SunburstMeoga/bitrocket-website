<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VW Test</title>
    <style>
        :root {
            --base-width: 390;
        }
        
        @media (min-width: 1024px) {
            :root {
                --base-width: 1024;
            }
        }
        
        @media (min-width: 1280px) {
            :root {
                --base-width: 1280;
            }
        }
        
        .test-14vw {
            font-size: calc(14 * 100vw / var(--base-width));
        }
        
        .test-100vw {
            width: calc(100 * 100vw / var(--base-width));
            height: calc(50 * 100vw / var(--base-width));
            background: red;
        }
        
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }
    </style>
</head>
<body>
    <h1>VW计算测试</h1>
    <p>当前视口宽度: <span id="viewport-width"></span>px</p>
    <p>当前基准宽度: <span id="base-width"></span>px</p>
    <p class="test-14vw">这是14vw的文字，应该等于14px在设计稿基准下</p>
    <div class="test-100vw">100vw x 50vw的盒子</div>
    
    <script>
        function updateInfo() {
            const viewportWidth = window.innerWidth;
            const baseWidth = getComputedStyle(document.documentElement).getPropertyValue('--base-width');
            
            document.getElementById('viewport-width').textContent = viewportWidth;
            document.getElementById('base-width').textContent = baseWidth;
            
            // 计算实际的px值
            const expectedFontSize = (14 * viewportWidth) / parseFloat(baseWidth);
            console.log(`14vw应该是: ${expectedFontSize}px`);
            
            const actualFontSize = getComputedStyle(document.querySelector('.test-14vw')).fontSize;
            console.log(`实际字体大小: ${actualFontSize}`);
        }
        
        updateInfo();
        window.addEventListener('resize', updateInfo);
    </script>
</body>
</html>
